[["data.html", "Chapter 3 Data 3.1 Sources 3.2 Cleaning / transformation 3.3 Missing value analysis", " Chapter 3 Data 3.1 Sources As described in the proposal, we look at three types of data over time: 3.1.1 Crime Crime data is sourced using the Uniform Crime Reporting (UCR) program. More than 18,000 law enforcement agencies at different administrative levels (from federal to city) voluntarily submit data to the state UCR or directly to FBI’s UCR. The UCR program is used by criminal justice researchers and students. Yearwise UCR data is visited using the index of UCR publications. In the proposal, we had planned to extract data of 1995 to 1998 as well, but these are in pdf format and was turning out to be rather difficult to extract. Besides, we can take data from 1999 as well to roughly compare the Bush administration vs the Obama administration in terms of crime. From 1999 to 2019, crime data is directly available in Table 5 (except for 2016, where the data is available in Table 3) in xls format categorized by state, nature of offense and kind of area. 3.2 Cleaning / transformation 3.2.1 Crime Raw crime data across all years is made in Excel and doesn’t have a clear table structure. For example, Snapshot of data Data from 1999-2002 have a similar format so they are extracted using data_collection/1999-2002.R. Data from 2003 and 2004 are peculiar so they ar extracted using data_collection/2003.R and data_collection/2004.R. Data from 2013-2016 have a similar format so they are extracted using data_collection/2013-2016.R. The rest of the data is extracted using data_collection/2005-2012, 2017-2019.R. The xls links to these years is saved in metadata/crime_data_links.csv so that we don’t have to hardcode URLs. library(dplyr) library(readxl) crimes_links &lt;- read.csv(&#39;metadata/crime_data_links.csv&#39;) source(&quot;data_collection/1999-2002.R&quot;, local = knitr::knit_global()) source(&quot;data_collection/2003.R&quot;, local = knitr::knit_global()) source(&quot;data_collection/2004.R&quot;, local = knitr::knit_global()) source(&quot;data_collection/2005-2012, 2017-2019.R&quot;, local = knitr::knit_global()) source(&quot;data_collection/2013-2016.R&quot;, local = knitr::knit_global()) crime_all_data &lt;- NULL for(year in 1999:2002) { if(is.null(crime_all_data)) crime_all_data &lt;- getdata.1999(crimes_links, year) else crime_all_data = bind_rows(crime_all_data, getdata.1999(crimes_links, year)) } for(year in 2003:2003) crime_all_data = bind_rows(crime_all_data, getdata.2003(crimes_links, year)) for(year in 2004:2004) crime_all_data = bind_rows(crime_all_data, getdata.2004(crimes_links, year)) for(year in 2005:2012) crime_all_data = bind_rows(crime_all_data, getdata.2005(crimes_links, year)) for(year in 2013:2016) crime_all_data = bind_rows(crime_all_data, getdata.2013(crimes_links, year)) for(year in 2017:2019) crime_all_data = bind_rows(crime_all_data, getdata.2005(crimes_links, year)) Some of the states were read with a whitespace or a comma so we’ll clean that up. library(stringr) crime_all_data[&#39;State&#39;] &lt;- lapply(crime_all_data[&#39;State&#39;], function(x) str_trim(gsub(&#39;,&#39;, &#39;&#39;, x))) print(nrow(unique(crime_all_data[&#39;State&#39;]))) ## [1] 52 crime_all_data$State &lt;- as.factor(crime_all_data$State) As stated in the 2003 crime report summary, they started referring to rural counties as metropolitan counties, so we change the area name in the previous years for one-to-one correspondence. In the District of Columbia, the report saves the district-wide crime numbers as “Total” instead of “State Total” since DC is not technically a state. We change the label of that as well to “State Total” just for one-to-one correspondence. crime_all_data[crime_all_data[&#39;Area&#39;] == &#39;Rural&#39;, &#39;Area&#39;] &lt;- &#39;Nonmetropolitan counties&#39; crime_all_data[crime_all_data[&#39;Area&#39;] == &#39;Total&#39;, &#39;Area&#39;] &lt;- &#39;State Total&#39; unique(crime_all_data[&#39;Area&#39;]) ## Area ## 1 Metropolitan Statistical Area ## 2 Cities outside metropolitan areas ## 3 Nonmetropolitan counties ## 4 State Total crime_all_data$Area &lt;- as.factor(crime_all_data$Area) Finally, we also convert the year to a factor and the rest of the numbers to integer crime_all_data$Year &lt;- as.factor(crime_all_data$Year) crime_all_data$Population &lt;- as.numeric(crime_all_data$Population) crime_all_data$Violent &lt;- as.numeric(crime_all_data$Violent) crime_all_data$Property &lt;- as.numeric(crime_all_data$Property) crime_all_data$Murder &lt;- as.numeric(crime_all_data$Murder) crime_all_data$Rape &lt;- as.numeric(crime_all_data$Rape) crime_all_data$Robbery &lt;- as.numeric(crime_all_data$Robbery) crime_all_data$Assault &lt;- as.numeric(crime_all_data$Assault) crime_all_data$Burglary &lt;- as.numeric(crime_all_data$Burglary) crime_all_data$Theft &lt;- as.numeric(crime_all_data$Theft) crime_all_data$Motor &lt;- as.numeric(crime_all_data$Motor) crime_all_data$Arson &lt;- as.numeric(crime_all_data$Arson) 3.3 Missing value analysis 3.3.1 Crime There are no missing values in Year, State and Area. There are some missing values in crime categories other than arson, which we checked is actually blank in the raw data. For now, we will keep the missing values as they are and impute values based on the graphics we decide to plot. Arson has been blank or missing in all raw data across all year so we will drop that column. crime_all_data &lt;- crime_all_data[, -14] "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
